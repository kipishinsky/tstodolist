(this.webpackJsonptstodolist=this.webpackJsonptstodolist||[]).push([[0],{101:function(t,e,a){},102:function(t,e,a){"use strict";a.r(e);var n=a(0),o=a.n(n),c=a(9),i=a.n(c);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(78);var r,l,s=a(22),u=a(28),d=a(7),f=a(43),m=a(38),b=a.n(m),O=b.a.create(Object(d.a)({baseURL:"https://social-network.samuraijs.com/api/1.1/"},{withCredentials:!0,headers:{"API-KEY":"b61c59bc-c21c-4a07-9ff4-5b299b2d5ced"}})),T=function(){return O.get("todo-lists")},k=function(t){return O.post("todo-lists",{title:t})},E=function(t){return O.delete("todo-lists/".concat(t))},h=function(t,e){return O.put("todo-lists/".concat(t),{title:e})},j=[],p=a(17),C=b.a.create(Object(d.a)({baseURL:"https://social-network.samuraijs.com/api/1.1/"},{withCredentials:!0,headers:{"API-KEY":"b61c59bc-c21c-4a07-9ff4-5b299b2d5ced"}})),I=function(t){return C.get("todo-lists/".concat(t,"/tasks"))},g=function(t,e){return C.post("todo-lists/".concat(e,"/tasks"),{title:t})},v=function(t,e){return C.delete("todo-lists/".concat(e,"/tasks/").concat(t))},A=function(t,e,a){return C.put("todo-lists/".concat(a,"/tasks/").concat(t),{title:e})};!function(t){t[t.New=0]="New",t[t.InProgress=1]="InProgress",t[t.Completed=2]="Completed",t[t.Draft=3]="Draft"}(r||(r={})),function(t){t[t.Low=0]="Low",t[t.Middle=1]="Middle",t[t.High=2]="High",t[t.Urgent=3]="Urgent",t[t.Later=4]="Later"}(l||(l={}));var S={},w=function(t,e,a){return function(n,o){var c=o().tasks[a].find((function(e){return e.id===t}));if(c){var i=Object(d.a)({title:c.title,description:c.description,status:c.status,priority:c.priority,startDate:c.startDate,deadline:c.deadline},e);A(t,i,a).then((function(){n(function(t,e,a){return{type:"CHANGE-TASK-STATUS",taskId:t,model:e,todolistId:a}}(t,e,a))}))}}},L=a(60),D=Object(u.c)({todolists:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"REMOVE-TODOLIST":return t.filter((function(t){return t.id!==e.idAC}));case"ADD-TODOLIST":return[].concat(Object(f.a)(t),[Object(d.a)(Object(d.a)({},e.todolist),{},{filter:"All"})]);case"CHANGE-TODOLIST-TITLE":return t.map((function(t){return t.id===e.idAC?Object(d.a)(Object(d.a)({},t),{},{title:e.titleAC}):t}));case"CHANGE-TODOLIST-FILTER":return t.map((function(t){return t.id===e.idAC?Object(d.a)(Object(d.a)({},t),{},{filter:e.filterAC}):t}));case"SET-TODOLISTS":return e.todolists.map((function(t){return Object(d.a)(Object(d.a)({},t),{},{filter:"All"})}));default:return t}},tasks:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"REMOVE-TASK":return Object(d.a)(Object(d.a)({},t),{},Object(p.a)({},e.todolistId,t[e.todolistId].filter((function(t){return t.id!==e.taskId}))));case"ADD-TASK":return Object(d.a)(Object(d.a)({},t),{},Object(p.a)({},e.task.todoListId,[e.task].concat(Object(f.a)(t[e.task.todoListId]))));case"CHANGE-TASK-STATUS":return Object(d.a)(Object(d.a)({},t),{},Object(p.a)({},e.todolistId,t[e.todolistId].map((function(t){return t.id===e.taskId?Object(d.a)(Object(d.a)({},t),e.model):t}))));case"UPDATE-TASK":return Object(d.a)(Object(d.a)({},t),{},Object(p.a)({},e.todolistId,t[e.todolistId].map((function(t){return t.id===e.taskId?Object(d.a)(Object(d.a)({},t),{},{title:e.newTitleTask}):t}))));case"ADD-TODOLIST":return Object(d.a)(Object(d.a)({},t),{},Object(p.a)({},e.todolist.id,[]));case"REMOVE-TODOLIST":var a=Object(d.a)({},t);return delete a[e.idAC],a;case"SET-TODOLISTS":var n=Object(d.a)({},t);return e.todolists.forEach((function(t){n[t.id]=[]})),n;case"SET-TASKS":return Object(d.a)(Object(d.a)({},t),{},Object(p.a)({},e.todolistId,e.tasks));default:return t}}}),y=Object(u.d)(D,Object(u.a)(L.a));window.store=y;a(101);var N=a(137),K=a(138),F=a(132),x=a(140),B=a(135),R=a(141),V=a(139),H=a(136),M=a(103),U=a(31),G=a(142),P=a(133),J=o.a.memo((function(t){console.log("AddNewItemComponent render");var e=Object(n.useState)(""),a=Object(U.a)(e,2),c=a[0],i=a[1],r=Object(n.useState)(null),l=Object(U.a)(r,2),s=l[0],u=l[1],d=function(){""!==c.trim()?(t.addNewItem(c),i("")):u("Title is required")};return o.a.createElement("div",null,o.a.createElement(G.a,{variant:"outlined",error:!!s,value:c,onChange:function(t){i(t.currentTarget.value)},onKeyPress:function(t){null!==s&&u(null),13===t.charCode&&d()},label:"Enter text",helperText:s}),o.a.createElement(F.a,{onClick:d,color:"primary"}," ",o.a.createElement(P.a,null)," "))})),W=o.a.memo((function(t){console.log("ChangeTitleNameComponent render");var e=Object(n.useState)(!1),a=Object(U.a)(e,2),c=a[0],i=a[1],r=Object(n.useState)(""),l=Object(U.a)(r,2),s=l[0],u=l[1];return c?o.a.createElement(G.a,{value:s,onBlur:function(){i(!1),t.onChange(s)},autoFocus:!0,onChange:function(t){u(t.currentTarget.value)}}):o.a.createElement("span",{onDoubleClick:function(){i(!0),u(t.changeTitleValue)}},t.changeTitleValue)})),Y=a(134),q=a(143),$=o.a.memo((function(t){var e=Object(n.useCallback)((function(e){t.changeTaskTitle(t.task.id,e,t.todolistId)}),[t.changeTaskTitle,t.task.id,t.todolistId]);return o.a.createElement("li",{key:t.task.id,className:t.task.status===r.Completed?"is-done":""},o.a.createElement(q.a,{color:"primary",onChange:function(e){var a=e.currentTarget.checked;t.changeTaskStatus(t.task.id,a?r.Completed:r.New,t.todolistId)},checked:t.task.status===r.Completed})," ",o.a.createElement(W,{changeTitleValue:t.task.title,onChange:e}),o.a.createElement(F.a,{onClick:function(){return t.removeTask(t.task.id,t.todolistId)}},o.a.createElement(Y.a,null)))})),z=o.a.memo((function(t){console.log(" TodoList render");var e=Object(s.b)();Object(n.useEffect)((function(){var a;console.log("log  "+t.todolistId),e((a=t.todolistId,function(t){I(a).then((function(e){t(function(t,e){return{type:"SET-TASKS",tasks:t,todolistId:e}}(e.data.items,a))}))}))}),[]);var a=Object(n.useCallback)((function(e){t.addNewTask(e,t.todolistId)}),[t.addNewTask,t.todolistId]),c=Object(n.useCallback)((function(){t.changeFilter("All",t.todolistId)}),[t.changeFilter,t.todolistId]),i=Object(n.useCallback)((function(){t.changeFilter("Active",t.todolistId)}),[t.changeFilter,t.todolistId]),l=Object(n.useCallback)((function(){t.changeFilter("Completed",t.todolistId)}),[t.changeFilter,t.todolistId]),u=Object(n.useCallback)((function(e){t.changeTodoListTitle(t.todolistId,e)}),[t.changeTodoListTitle,t.todolistId]);t.tasks;return"Active"===t.filterButton&&t.tasks.filter((function(t){return t.status===r.New})),"Completed"===t.filterButton&&t.tasks.filter((function(t){return t.status===r.Completed})),o.a.createElement("div",null,o.a.createElement("h3",null," ",o.a.createElement(W,{changeTitleValue:t.todolistTitle,onChange:u}),o.a.createElement(F.a,{onClick:function(){t.removeTodoList(t.todolistId)}},o.a.createElement(Y.a,null))),o.a.createElement(J,{addNewItem:a})," ",o.a.createElement("ul",null,t.tasks.map((function(e){return o.a.createElement($,{task:e,changeTaskStatus:t.changeTaskStatus,changeTaskTitle:t.changeTaskTitle,removeTask:t.removeTask,todolistId:t.todolistId,key:e.id})}))),o.a.createElement("div",null,o.a.createElement(B.a,{variant:"All"===t.filterButton?"contained":"text",onClick:c,color:"inherit"},"All"),o.a.createElement(B.a,{variant:"Active"===t.filterButton?"contained":"text",onClick:i,color:"primary"},"Active"),o.a.createElement(B.a,{variant:"Completed"===t.filterButton?"contained":"text",onClick:l,color:"secondary"},"Completed")))})),Q=function(){var t=Object(s.b)(),e=Object(s.c)((function(t){return t.todolists})),a=Object(s.c)((function(t){return t.tasks}));Object(n.useEffect)((function(){t((function(t){T().then((function(e){t({type:"SET-TODOLISTS",todolists:e.data})}))}))}),[]);var c=Object(n.useCallback)((function(e,a){t(function(t,e){return function(a){v(t,e).then((function(n){a(function(t,e){return{type:"REMOVE-TASK",taskId:t,todolistId:e}}(t,e))}))}}(e,a))}),[]),i=Object(n.useCallback)((function(e,a){var n,o;t((n=e,o=a,function(t){g(n,o).then((function(e){t({type:"ADD-TASK",task:e.data.data.item})}))}))}),[]),l=Object(n.useCallback)((function(e,a,n){t(w(e,{status:a},n))}),[]),u=Object(n.useCallback)((function(e,a,n){t(w(e,{title:a},n))}),[]),d=Object(n.useCallback)((function(e,a){t(function(t,e){return{type:"CHANGE-TODOLIST-FILTER",filterAC:e,idAC:t}}(a,e))}),[]),f=Object(n.useCallback)((function(e){var a;t((a=e,function(t){E(a).then((function(e){t({type:"REMOVE-TODOLIST",idAC:a})}))}))}),[]),m=Object(n.useCallback)((function(e,a){var n,o;t((n=e,o=a,function(t){h(n,o).then((function(e){t(function(t,e){return{type:"CHANGE-TODOLIST-TITLE",idAC:t,titleAC:e,filterAC:"All"}}(n,o))}))}))}),[]),b=Object(n.useCallback)((function(e){t(function(t){return function(e){k(t).then((function(t){e({type:"ADD-TODOLIST",todolist:t.data.data.item})}))}}(e))}),[]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(H.a,{container:!0,style:{padding:"20px"}},o.a.createElement(J,{addNewItem:b})),o.a.createElement(H.a,{container:!0,spacing:3},e.map((function(t){var e=a[t.id],n=e;return"Active"===t.filter&&(n=e.filter((function(t){return t.status===r.New}))),"Completed"===t.filter&&(n=e.filter((function(t){return t.status===r.Completed}))),o.a.createElement(H.a,{item:!0},o.a.createElement(M.a,{style:{padding:"10px"}},o.a.createElement(z,{key:t.id,todolistId:t.id,todolistTitle:t.title,tasks:n,removeTask:c,changeFilter:d,addNewTask:i,changeTaskStatus:l,changeTaskTitle:u,filterButton:t.filter,removeTodoList:f,changeTodoListTitle:m})))}))))};var X=function(){return console.log("App render"),o.a.createElement("div",{className:"App"},o.a.createElement(N.a,{position:"static"},o.a.createElement(K.a,null,o.a.createElement(F.a,{edge:"start",color:"inherit","aria-label":"menu"},o.a.createElement(V.a,null)),o.a.createElement(x.a,{variant:"h6"},"News"),o.a.createElement(B.a,{color:"inherit"},"Login"))),o.a.createElement(R.a,{fixed:!0},o.a.createElement(Q,null)))};i.a.render(o.a.createElement(s.a,{store:y},o.a.createElement(X,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},73:function(t,e,a){t.exports=a(102)},78:function(t,e,a){}},[[73,1,2]]]);
//# sourceMappingURL=main.c4e26f0b.chunk.js.map