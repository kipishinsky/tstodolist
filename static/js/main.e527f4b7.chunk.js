(this.webpackJsonptstodolist=this.webpackJsonptstodolist||[]).push([[0],{108:function(t,e,a){},109:function(t,e,a){"use strict";a.r(e);var n=a(0),o=a.n(n),c=a(9),r=a.n(c);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(85);var i,l,s=a(17),u=a(32),d=a(7),f=a(48),m=a(43),O=a.n(m),b=O.a.create(Object(d.a)({baseURL:"https://social-network.samuraijs.com/api/1.1/"},{withCredentials:!0,headers:{"API-KEY":"b61c59bc-c21c-4a07-9ff4-5b299b2d5ced"}})),T=function(){return b.get("todo-lists")},E=function(t){return b.post("todo-lists",{title:t})},k=function(t){return b.delete("todo-lists/".concat(t))},j=function(t,e){return b.put("todo-lists/".concat(t),{title:e})},g={status:"loading",error:null},h=function(t){return{type:"APP/SET-STATUS",status:t}},p=function(t){return{type:"APP/SET-ERROR",error:t}},C=[],v=a(19),I=O.a.create(Object(d.a)({baseURL:"https://social-network.samuraijs.com/api/1.1/"},{withCredentials:!0,headers:{"API-KEY":"b61c59bc-c21c-4a07-9ff4-5b299b2d5ced"}})),A=function(t){return I.get("todo-lists/".concat(t,"/tasks"))},S=function(t,e){return I.post("todo-lists/".concat(e,"/tasks"),{title:t})},w=function(t,e){return I.delete("todo-lists/".concat(e,"/tasks/").concat(t))},L=function(t,e,a){return I.put("todo-lists/".concat(a,"/tasks/").concat(t),{title:e})};!function(t){t[t.New=0]="New",t[t.InProgress=1]="InProgress",t[t.Completed=2]="Completed",t[t.Draft=3]="Draft"}(i||(i={})),function(t){t[t.Low=0]="Low",t[t.Middle=1]="Middle",t[t.High=2]="High",t[t.Urgent=3]="Urgent",t[t.Later=4]="Later"}(l||(l={}));var y={},D=function(t,e,a){return function(n,o){var c=o().tasks[a].find((function(e){return e.id===t}));if(c){var r=Object(d.a)({title:c.title,description:c.description,status:c.status,priority:c.priority,startDate:c.startDate,deadline:c.deadline},e);n(h("loading")),L(t,r,a).then((function(){n(function(t,e,a){return{type:"CHANGE-TASK-STATUS",taskId:t,model:e,todolistId:a}}(t,e,a)),n(h("succeeded"))}))}}},N=a(66),R=Object(u.c)({todolists:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"REMOVE-TODOLIST":return t.filter((function(t){return t.id!==e.idAC}));case"ADD-TODOLIST":return[].concat(Object(f.a)(t),[Object(d.a)(Object(d.a)({},e.todolist),{},{filter:"All"})]);case"CHANGE-TODOLIST-TITLE":return t.map((function(t){return t.id===e.idAC?Object(d.a)(Object(d.a)({},t),{},{title:e.titleAC}):t}));case"CHANGE-TODOLIST-FILTER":return t.map((function(t){return t.id===e.idAC?Object(d.a)(Object(d.a)({},t),{},{filter:e.filterAC}):t}));case"SET-TODOLISTS":return e.todolists.map((function(t){return Object(d.a)(Object(d.a)({},t),{},{filter:"All"})}));default:return t}},tasks:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"REMOVE-TASK":return Object(d.a)(Object(d.a)({},t),{},Object(v.a)({},e.todolistId,t[e.todolistId].filter((function(t){return t.id!==e.taskId}))));case"ADD-TASK":return Object(d.a)(Object(d.a)({},t),{},Object(v.a)({},e.task.todoListId,[e.task].concat(Object(f.a)(t[e.task.todoListId]))));case"CHANGE-TASK-STATUS":return Object(d.a)(Object(d.a)({},t),{},Object(v.a)({},e.todolistId,t[e.todolistId].map((function(t){return t.id===e.taskId?Object(d.a)(Object(d.a)({},t),e.model):t}))));case"UPDATE-TASK":return Object(d.a)(Object(d.a)({},t),{},Object(v.a)({},e.todolistId,t[e.todolistId].map((function(t){return t.id===e.taskId?Object(d.a)(Object(d.a)({},t),{},{title:e.newTitleTask}):t}))));case"ADD-TODOLIST":return Object(d.a)(Object(d.a)({},t),{},Object(v.a)({},e.todolist.id,[]));case"REMOVE-TODOLIST":var a=Object(d.a)({},t);return delete a[e.idAC],a;case"SET-TODOLISTS":var n=Object(d.a)({},t);return e.todolists.forEach((function(t){n[t.id]=[]})),n;case"SET-TASKS":return Object(d.a)(Object(d.a)({},t),{},Object(v.a)({},e.todolistId,e.tasks));default:return t}},app:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"APP/SET-STATUS":return Object(d.a)(Object(d.a)({},t),{},{status:e.status});case"APP/SET-ERROR":return Object(d.a)(Object(d.a)({},t),{},{error:e.error});default:return t}}}),P=Object(u.d)(R,Object(u.a)(N.a));window.store=P;a(108);var K=a(148),F=a(149),x=a(143),B=a(151),H=a(146),U=a(152),V=a(153),M=a(150),G=a(147),J=a(110),W=a(26),Y=a(154),q=a(144),$=o.a.memo((function(t){console.log("AddNewItemComponent render");var e=Object(n.useState)(""),a=Object(W.a)(e,2),c=a[0],r=a[1],i=Object(n.useState)(null),l=Object(W.a)(i,2),s=l[0],u=l[1],d=function(){""!==c.trim()?(t.addNewItem(c),r("")):u("Title is required")};return o.a.createElement("div",null,o.a.createElement(Y.a,{variant:"outlined",error:!!s,value:c,onChange:function(t){r(t.currentTarget.value)},onKeyPress:function(t){null!==s&&u(null),13===t.charCode&&d()},label:"Enter text",helperText:s}),o.a.createElement(x.a,{onClick:d,color:"primary"}," ",o.a.createElement(q.a,null)," "))})),z=o.a.memo((function(t){console.log("ChangeTitleNameComponent render");var e=Object(n.useState)(!1),a=Object(W.a)(e,2),c=a[0],r=a[1],i=Object(n.useState)(""),l=Object(W.a)(i,2),s=l[0],u=l[1];return c?o.a.createElement(Y.a,{value:s,onBlur:function(){r(!1),t.onChange(s)},autoFocus:!0,onChange:function(t){u(t.currentTarget.value)}}):o.a.createElement("span",{onDoubleClick:function(){r(!0),u(t.changeTitleValue)}},t.changeTitleValue)})),Q=a(145),X=a(156),Z=o.a.memo((function(t){var e=Object(n.useCallback)((function(e){t.changeTaskTitle(t.task.id,e,t.todolistId)}),[t.changeTaskTitle,t.task.id,t.todolistId]);return o.a.createElement("li",{key:t.task.id,className:t.task.status===i.Completed?"is-done":""},o.a.createElement(X.a,{color:"primary",onChange:function(e){var a=e.currentTarget.checked;t.changeTaskStatus(t.task.id,a?i.Completed:i.New,t.todolistId)},checked:t.task.status===i.Completed})," ",o.a.createElement(z,{changeTitleValue:t.task.title,onChange:e}),o.a.createElement(x.a,{onClick:function(){return t.removeTask(t.task.id,t.todolistId)}},o.a.createElement(Q.a,null)))})),_=o.a.memo((function(t){console.log(" TodoList render");var e=Object(s.b)();Object(n.useEffect)((function(){var a;console.log("log  "+t.todolistId),e((a=t.todolistId,function(t){t(h("loading")),A(a).then((function(e){t(function(t,e){return{type:"SET-TASKS",tasks:t,todolistId:e}}(e.data.items,a)),t(h("succeeded"))}))}))}),[]);var a=Object(n.useCallback)((function(e){t.addNewTask(e,t.todolistId)}),[t.addNewTask,t.todolistId]),c=Object(n.useCallback)((function(){t.changeFilter("All",t.todolistId)}),[t.changeFilter,t.todolistId]),r=Object(n.useCallback)((function(){t.changeFilter("Active",t.todolistId)}),[t.changeFilter,t.todolistId]),l=Object(n.useCallback)((function(){t.changeFilter("Completed",t.todolistId)}),[t.changeFilter,t.todolistId]),u=Object(n.useCallback)((function(e){t.changeTodoListTitle(t.todolistId,e)}),[t.changeTodoListTitle,t.todolistId]);t.tasks;return"Active"===t.filterButton&&t.tasks.filter((function(t){return t.status===i.New})),"Completed"===t.filterButton&&t.tasks.filter((function(t){return t.status===i.Completed})),o.a.createElement("div",null,o.a.createElement("h3",null," ",o.a.createElement(z,{changeTitleValue:t.todolistTitle,onChange:u}),o.a.createElement(x.a,{onClick:function(){t.removeTodoList(t.todolistId)}},o.a.createElement(Q.a,null))),o.a.createElement($,{addNewItem:a})," ",o.a.createElement("ul",null,t.tasks.map((function(e){return o.a.createElement(Z,{task:e,changeTaskStatus:t.changeTaskStatus,changeTaskTitle:t.changeTaskTitle,removeTask:t.removeTask,todolistId:t.todolistId,key:e.id})}))),o.a.createElement("div",null,o.a.createElement(H.a,{variant:"All"===t.filterButton?"contained":"text",onClick:c,color:"inherit"},"All"),o.a.createElement(H.a,{variant:"Active"===t.filterButton?"contained":"text",onClick:r,color:"primary"},"Active"),o.a.createElement(H.a,{variant:"Completed"===t.filterButton?"contained":"text",onClick:l,color:"secondary"},"Completed")))})),tt=function(){var t=Object(s.b)(),e=Object(s.c)((function(t){return t.todolists})),a=Object(s.c)((function(t){return t.tasks}));Object(n.useEffect)((function(){t((function(t){t(h("loading")),T().then((function(e){t({type:"SET-TODOLISTS",todolists:e.data}),t(h("succeeded"))}))}))}),[]);var c=Object(n.useCallback)((function(e,a){t(function(t,e){return function(a){a(h("loading")),w(t,e).then((function(n){a(function(t,e){return{type:"REMOVE-TASK",taskId:t,todolistId:e}}(t,e)),a(h("succeeded"))}))}}(e,a))}),[]),r=Object(n.useCallback)((function(e,a){var n,o;t((n=e,o=a,function(t){t(h("loading")),S(n,o).then((function(e){0===e.data.resultCode?(t({type:"ADD-TASK",task:e.data.data.item}),t(h("succeeded"))):e.data.messages.length&&(t(p(e.data.messages[0])),t(h("succeeded"))),t(h("failed"))}))}))}),[]),l=Object(n.useCallback)((function(e,a,n){t(D(e,{status:a},n))}),[]),u=Object(n.useCallback)((function(e,a,n){t(D(e,{title:a},n))}),[]),d=Object(n.useCallback)((function(e,a){t(function(t,e){return{type:"CHANGE-TODOLIST-FILTER",filterAC:e,idAC:t}}(a,e))}),[]),f=Object(n.useCallback)((function(e){var a;t((a=e,function(t){t(h("loading")),k(a).then((function(e){t({type:"REMOVE-TODOLIST",idAC:a}),t(h("succeeded"))}))}))}),[]),m=Object(n.useCallback)((function(e,a){var n,o;t((n=e,o=a,function(t){j(n,o).then((function(e){t(function(t,e){return{type:"CHANGE-TODOLIST-TITLE",idAC:t,titleAC:e,filterAC:"All"}}(n,o))}))}))}),[]),O=Object(n.useCallback)((function(e){t(function(t){return function(e){E(t).then((function(t){e({type:"ADD-TODOLIST",todolist:t.data.data.item})}))}}(e))}),[]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(G.a,{container:!0,style:{padding:"20px"}},o.a.createElement($,{addNewItem:O})),o.a.createElement(G.a,{container:!0,spacing:3},e.map((function(t){var e=a[t.id],n=e;return"Active"===t.filter&&(n=e.filter((function(t){return t.status===i.New}))),"Completed"===t.filter&&(n=e.filter((function(t){return t.status===i.Completed}))),o.a.createElement(G.a,{item:!0},o.a.createElement(J.a,{style:{padding:"10px"}},o.a.createElement(_,{key:t.id,todolistId:t.id,todolistTitle:t.title,tasks:n,removeTask:c,changeFilter:d,addNewTask:r,changeTaskStatus:l,changeTaskTitle:u,filterButton:t.filter,removeTodoList:f,changeTodoListTitle:m})))}))))},et=a(158),at=a(155);function nt(t){return o.a.createElement(at.a,Object.assign({elevation:6,variant:"filled"},t))}function ot(){var t=o.a.useState(!0),e=Object(W.a)(t,2),a=(e[0],e[1],Object(s.b)()),n=function(t,e){"clickaway"!==e&&a(p(null))},c=Object(s.c)((function(t){return t.app.error})),r=null!==c;return o.a.createElement(et.a,{open:r,autoHideDuration:3e3,onClose:n},o.a.createElement(nt,{onClose:n,severity:"error"},c))}var ct=function(){console.log("App render");var t=Object(s.c)((function(t){return t.app.status}));return o.a.createElement("div",{className:"App"},o.a.createElement(ot,null),o.a.createElement(K.a,{position:"static"},o.a.createElement(F.a,null,o.a.createElement(x.a,{edge:"start",color:"inherit","aria-label":"menu"},o.a.createElement(M.a,null)),o.a.createElement(B.a,{variant:"h6"},"News"),o.a.createElement(H.a,{color:"inherit"},"Login")),"loading"===t&&o.a.createElement(U.a,{color:"secondary"})),o.a.createElement(V.a,{fixed:!0},o.a.createElement(tt,null)))};r.a.render(o.a.createElement(s.a,{store:P},o.a.createElement(ct,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},80:function(t,e,a){t.exports=a(109)},85:function(t,e,a){}},[[80,1,2]]]);
//# sourceMappingURL=main.e527f4b7.chunk.js.map